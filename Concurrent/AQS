<mxfile host="app.diagrams.net" modified="2021-06-10T13:17:23.542Z" agent="5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.77 Safari/537.36" etag="kqcpJTBAFFHFhIqeqVZ4" version="14.7.6" type="github">
  <diagram id="jBKMRQDZs5jW3x_gJwxw" name="Page-1">
    <mxGraphModel dx="4187" dy="2005" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-1" target="Vtk1lmPcbk6OVcRN41MI-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-1" value="FairSync.lock()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="90" y="230" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-2" target="Vtk1lmPcbk6OVcRN41MI-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-2" value="acquire(1)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="90" y="340" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-4" target="Vtk1lmPcbk6OVcRN41MI-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-4" value="tryAcquire(1)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="90" y="450" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-6" target="Vtk1lmPcbk6OVcRN41MI-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-6" target="Vtk1lmPcbk6OVcRN41MI-26">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-6" value="state == 0" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="65" y="660" width="170" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-7" target="Vtk1lmPcbk6OVcRN41MI-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-7" value="state = getState()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="90" y="554.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-10" target="Vtk1lmPcbk6OVcRN41MI-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-10" target="Vtk1lmPcbk6OVcRN41MI-19">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-10" value="hasQueuedPredecessores()" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="65" y="790" width="170" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-12" value="true" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="150" y="750" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-13" target="Vtk1lmPcbk6OVcRN41MI-16">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-13" target="Vtk1lmPcbk6OVcRN41MI-19">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-13" value="compareAndSetState(0, state)" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="65" y="920" width="170" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-15" value="false" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="150" y="882" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-16" target="Vtk1lmPcbk6OVcRN41MI-21">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-16" value="setExclusiveOwnerThread(current)&lt;br&gt;将当前线程设置为有效工作线程" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="50" y="1050" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-18" value="true" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="150" y="1010" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-116" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-19" target="Vtk1lmPcbk6OVcRN41MI-115">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-19" value="return false&lt;br&gt;获取共享资源失败" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fa6800;strokeColor=#C73500;fontColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="354" y="1160" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-21" value="成功获取共享资源&lt;br&gt;return true" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="90" y="1160" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-24" value="true" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="250" y="810" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-25" value="false" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="250" y="940" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-26" target="Vtk1lmPcbk6OVcRN41MI-30">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-26" target="Vtk1lmPcbk6OVcRN41MI-19">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-240" y="830" />
              <mxPoint x="-240" y="1290" />
              <mxPoint x="414" y="1290" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-26" value="current == getExclusiveOwnerThread()&lt;br&gt;当前线程是否已经获得锁" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-190" y="790" width="170" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-28" value="false" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry y="680" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-34" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-30" target="Vtk1lmPcbk6OVcRN41MI-33">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-30" value="nextState = state + acquires" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-165" y="930" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-32" value="true" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="-110" y="890" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-35" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-33" target="Vtk1lmPcbk6OVcRN41MI-21">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-33" value="setstate(nextState)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-165" y="1050" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-37" value="false" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="-230" y="808" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-40" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-38">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1269" y="340" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-38" value="NonfairSync.lock()" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1209" y="230" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-44" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-41" target="Vtk1lmPcbk6OVcRN41MI-42">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-41" value="compareAndSetState(0,1)" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1184" y="340" width="170" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-47" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-42" target="Vtk1lmPcbk6OVcRN41MI-46">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-42" value="acquire(1)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1209" y="450" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-45" value="fasle" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="1266" y="420" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-49" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-46" target="Vtk1lmPcbk6OVcRN41MI-48">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-46" value="tryAcquire(1)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1209" y="555" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-52" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-48" target="Vtk1lmPcbk6OVcRN41MI-51">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-48" value="c = getState()" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1209" y="670" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-54" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-51" target="Vtk1lmPcbk6OVcRN41MI-53">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-63" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-51" target="Vtk1lmPcbk6OVcRN41MI-62">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-72" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-51" target="Vtk1lmPcbk6OVcRN41MI-71">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-51" value="c == 0" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1184" y="790" width="170" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-58" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-53" target="Vtk1lmPcbk6OVcRN41MI-57">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-73" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-53">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1581" y="1160" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-53" value="compareAndSetState(0,acquires)" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1159" y="920" width="220" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-55" value="true" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="1269" y="880" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-60" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-57" target="Vtk1lmPcbk6OVcRN41MI-59">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-57" value="setExclusiveOwnerThread(current)&lt;br&gt;将当前线程设置为有效工作线程" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1169" y="1050" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-59" value="成功获取共享资源&lt;br&gt;return true" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="1209" y="1160" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-61" value="true" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="1269" y="1010" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-66" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-62" target="Vtk1lmPcbk6OVcRN41MI-65">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-74" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-62" target="Vtk1lmPcbk6OVcRN41MI-71">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="721" y="960" />
              <mxPoint x="721" y="1290" />
              <mxPoint x="1581" y="1290" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-62" value="current == getExclusiveThread()" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="781" y="920" width="220" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-64" value="false" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="1101" y="810" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-69" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-65" target="Vtk1lmPcbk6OVcRN41MI-68">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-65" value="nextc = c + acquires" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="831" y="1050" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-67" value="true" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="891" y="1010" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-70" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-68" target="Vtk1lmPcbk6OVcRN41MI-59">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-68" value="setState(nextc)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="831" y="1160" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-114" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-71" target="Vtk1lmPcbk6OVcRN41MI-113">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-71" value="获取共享资源失败&lt;br&gt;return false" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fa6800;strokeColor=#C73500;fontColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="1521" y="1160" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-75" value="false" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="741" y="940" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-76" value="false" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="1381" y="810" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-77" value="false" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="1391" y="940" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-78" value="state == 0" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="65" y="660" width="170" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-79" value="hasQueuedPredecessores()" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="65" y="790" width="170" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-80" value="compareAndSetState(0, state)" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="65" y="920" width="170" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-81" value="current == getExclusiveOwnerThread()&lt;br&gt;当前线程是否已经获得锁" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="-190" y="790" width="170" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-82" value="compareAndSetState(0,1)" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="1184" y="340" width="170" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-83" value="compareAndSetState(0,acquires)" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="1159" y="920" width="220" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-84" value="c == 0" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="1184" y="790" width="170" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-85" value="FairSync.lock()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="90" y="230" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-86" value="acquire(1)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="90" y="340" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-87" value="tryAcquire(1)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="90" y="450" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-88" value="state = getState()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="90" y="554.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-89" value="FairSync.lock()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="90" y="230" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-90" value="acquire(1)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="90" y="340" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-91" value="tryAcquire(1)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="90" y="450" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-92" value="state = getState()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="90" y="554.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-93" value="setstate(nextState)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-165" y="1050" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-94" value="FairSync.lock()" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="90" y="230" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-95" value="acquire(1)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="90" y="340" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-96" value="tryAcquire(1)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="90" y="450" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-97" value="state = getState()" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="90" y="554.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-98" value="setstate(nextState)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-165" y="1050" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-99" value="nextc = c + acquires" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="831" y="1050" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-100" value="FairSync.lock()" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="90" y="230" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-101" value="acquire(1)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="90" y="340" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-102" value="tryAcquire(1)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="90" y="450" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-103" value="state = getState()" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="90" y="554.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-104" value="setstate(nextState)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-165" y="1050" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-105" value="nextc = c + acquires" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="831" y="1050" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-106" value="setExclusiveOwnerThread(current)&lt;br&gt;将当前线程设置为有效工作线程" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1169" y="1050" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-107" value="c = getState()" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1209" y="670" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-108" value="tryAcquire(1)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1209" y="555" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-109" value="acquire(1)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1209" y="450" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-110" value="NonfairSync.lock()" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1209" y="230" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-111" value="setState(nextc)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="831" y="1160" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-112" value="setExclusiveOwnerThread(current)&lt;br&gt;将当前线程设置为有效工作线程" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="50" y="1050" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-113" value="当前线程封装成CLH节点，进入阻塞队列等待唤醒" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e3c800;strokeColor=#B09500;fontColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="1701" y="1160" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-115" value="当前线程封装成CLH节点，进入阻塞队列等待唤醒" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e3c800;strokeColor=#B09500;fontColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="510" y="1160" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-117" value="" style="endArrow=none;dashed=1;html=1;strokeWidth=3;strokeColor=#007FFF;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-340" y="1406.6666666666667" as="sourcePoint" />
            <mxPoint x="-340" y="80" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-118" value="" style="endArrow=none;dashed=1;html=1;strokeWidth=3;strokeColor=#007FFF;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1970" y="1412.666666666667" as="sourcePoint" />
            <mxPoint x="1970" y="86" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-119" value="" style="endArrow=none;dashed=1;html=1;strokeWidth=3;strokeColor=#007FFF;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-340" y="1410" as="sourcePoint" />
            <mxPoint x="1970" y="1420" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-120" value="" style="endArrow=none;dashed=1;html=1;strokeWidth=3;strokeColor=#007FFF;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-339.99999999999955" y="80" as="sourcePoint" />
            <mxPoint x="1970" y="90" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-123" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeWidth=1;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-121" target="Vtk1lmPcbk6OVcRN41MI-122">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-121" value="以给定模式构造节点&lt;br&gt;new Node(Thread.currentThread(), mode)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="223" y="1480" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-125" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeColor=#000000;strokeWidth=1;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-122" target="Vtk1lmPcbk6OVcRN41MI-124">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-122" value="获取队尾节点&lt;br&gt;Node pred = tail" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="283" y="1600" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-127" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeColor=#000000;strokeWidth=1;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-124" target="Vtk1lmPcbk6OVcRN41MI-126">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-137" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#000000;strokeWidth=1;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-124" target="Vtk1lmPcbk6OVcRN41MI-136">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="523" y="1760" />
              <mxPoint x="523" y="1890" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-124" value="pred != null" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="258" y="1720" width="170" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-130" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeColor=#000000;strokeWidth=1;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-126" target="Vtk1lmPcbk6OVcRN41MI-129">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-126" value="快速放到队尾&lt;br&gt;node.prev = pred" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="283" y="1860" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-128" value="true" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="343" y="1810" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-132" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeColor=#000000;strokeWidth=1;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-129" target="Vtk1lmPcbk6OVcRN41MI-131">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-139" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#000000;strokeWidth=1;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-129" target="Vtk1lmPcbk6OVcRN41MI-136">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="523" y="2020" />
              <mxPoint x="523" y="1890" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-129" value="compareAndSetTail(pred,node)" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="243" y="1980" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-135" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeColor=#000000;strokeWidth=1;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-131" target="Vtk1lmPcbk6OVcRN41MI-134">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-131" value="pred.next = node" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="283" y="2120" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-133" value="true" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="343" y="2070" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-134" value="return node" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="283" y="2240" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-143" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeColor=#000000;strokeWidth=1;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-136" target="Vtk1lmPcbk6OVcRN41MI-140">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-136" value="通过enq入队&lt;br&gt;enq(node)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="617" y="1860" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-145" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#000000;strokeWidth=1;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-140" target="Vtk1lmPcbk6OVcRN41MI-144">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-140" value="CAS“自旋”，&lt;br&gt;直到成功加入队尾&lt;br&gt;for(;;)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="617" y="1990" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-141" value="false" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="443" y="1740" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-142" value="false" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="453" y="2000" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-147" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeColor=#000000;strokeWidth=1;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-144" target="Vtk1lmPcbk6OVcRN41MI-146">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-144" value="获取队尾节点&lt;br&gt;Node t = tail" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="617" y="2120" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-150" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeColor=#000000;strokeWidth=1;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-146">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="677" y="2360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-157" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#000000;strokeWidth=1;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-146" target="Vtk1lmPcbk6OVcRN41MI-159">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="879" y="2270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-146" value="t == null" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="592" y="2230" width="170" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-151" value="true" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="673" y="2320" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-155" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#000000;strokeWidth=1;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-153" target="Vtk1lmPcbk6OVcRN41MI-154">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-169" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#000000;strokeWidth=1;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-153" target="Vtk1lmPcbk6OVcRN41MI-168">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-153" value="compareAndSetHead(new Node())" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="577" y="2360" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-154" value="创建一个空节点作为head，&lt;br&gt;并将tail也指向该空节点&lt;br&gt;tail = head" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="587" y="2490" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-158" value="false" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="793" y="2250" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-162" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#000000;strokeWidth=1;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-159" target="Vtk1lmPcbk6OVcRN41MI-161">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-159" value="正常流程入队&lt;br&gt;node.prev = t" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="981" y="2240" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-164" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#000000;strokeWidth=1;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-161" target="Vtk1lmPcbk6OVcRN41MI-163">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-173" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#000000;strokeWidth=1;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-161" target="Vtk1lmPcbk6OVcRN41MI-168">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-161" value="compareAndSetTail(t, node)" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="941" y="2360" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-167" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeColor=#000000;strokeWidth=1;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-163" target="Vtk1lmPcbk6OVcRN41MI-166">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-163" value="t.next = node" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="981" y="2490" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-165" value="true" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="1033" y="2451" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-166" value="return node" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="981" y="2600" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-168" value="" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=hexagon;perimeter=hexagonPerimeter2;arcSize=6;size=0.27;fillColor=#6a00ff;strokeColor=#3700CC;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="803" y="2451" width="130" height="59" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-171" value="false" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="793" y="2380" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-172" value="false" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="893" y="2380" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-174" value="for自旋，&lt;br&gt;直到成功放入队尾" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="813" y="2464" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-175" value="" style="endArrow=none;dashed=1;html=1;strokeWidth=3;strokeColor=#007FFF;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-339.99999999999955" y="2736.6666666666674" as="sourcePoint" />
            <mxPoint x="-339.99999999999955" y="1410" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-176" value="" style="endArrow=none;dashed=1;html=1;strokeWidth=3;strokeColor=#007FFF;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1970" y="2743.336666666667" as="sourcePoint" />
            <mxPoint x="1970" y="1416.67" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-177" value="" style="endArrow=none;dashed=1;html=1;strokeWidth=3;strokeColor=#007FFF;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-341.99999999999955" y="2740" as="sourcePoint" />
            <mxPoint x="1968" y="2750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-180" value="true" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="680" y="2451" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-183" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeColor=#000000;strokeWidth=1;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-181" target="Vtk1lmPcbk6OVcRN41MI-182">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-181" value="成功拿到资源标记&amp;nbsp; failed = true&lt;br&gt;等待过程是否被中断标记&amp;nbsp; interrupted = false" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="50" y="2830" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-185" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#000000;strokeWidth=1;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-182" target="Vtk1lmPcbk6OVcRN41MI-184">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-182" value="for(;;)“自旋”" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="110" y="2940" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-188" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeColor=#000000;strokeWidth=1;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-184" target="Vtk1lmPcbk6OVcRN41MI-187">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-184" value="获取当前结点的前驱结点&lt;br&gt;final Node p = node.predecessor()" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="73.25" y="3050" width="193.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-190" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#000000;strokeWidth=1;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-187" target="Vtk1lmPcbk6OVcRN41MI-189">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-199" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#000000;strokeWidth=1;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-187" target="Vtk1lmPcbk6OVcRN41MI-198">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-187" value="p == head &amp;amp;&amp;amp;tryAcquire(arg)&lt;br&gt;前继为头结点并且拿到锁" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="69.25" y="3170" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-193" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeColor=#000000;strokeWidth=1;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-189" target="Vtk1lmPcbk6OVcRN41MI-192">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-189" value="setHead(node)&lt;br&gt;此方法将node的prev设置为null" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="109.25" y="3300" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-191" value="true" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="161" y="3260" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-195" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeColor=#000000;strokeWidth=1;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-192" target="Vtk1lmPcbk6OVcRN41MI-194">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-192" value="head.next = null&lt;br&gt;将head.next置为null，方便GC" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="110" y="3400" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-197" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#000000;strokeWidth=1;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-194" target="Vtk1lmPcbk6OVcRN41MI-196">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-194" value="failed = false&lt;br&gt;成功获取资源" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="109.25" y="3510" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-196" value="return interrupted" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="109.25" y="3620" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-202" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#000000;strokeWidth=1;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-198" target="Vtk1lmPcbk6OVcRN41MI-201">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-198" value="shouldParkAfterFaildeAcquire(p, node) &amp;amp;&amp;amp;&lt;br&gt;parkAndCheckInterrupt()" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="384" y="3170" width="313" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-200" value="false" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="277" y="3190" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-201" value="interrupted = true" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="480.5" y="3300" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-203" value="true" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="537" y="3260" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-206" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeColor=#000000;strokeWidth=1;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-204" target="Vtk1lmPcbk6OVcRN41MI-205">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-204" value="shouldParkAfterFaildeAcquire(Node pred, Node node)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1070" y="2830" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-209" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#000000;strokeWidth=1;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-205" target="Vtk1lmPcbk6OVcRN41MI-207">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-205" value="ws = pred.waitStatus&lt;br&gt;获取前驱结点的等待状态" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1093.25" y="2940" width="193.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-211" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#000000;strokeWidth=1;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-207" target="Vtk1lmPcbk6OVcRN41MI-210">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-214" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.055;entryY=0.483;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#000000;strokeWidth=1;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-207" target="Vtk1lmPcbk6OVcRN41MI-213">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-207" value="ws == Node.SIGNAL" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="1090" y="3060" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-210" value="return true" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1130" y="3190" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-212" value="true" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="1190" y="3150" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-216" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeColor=#000000;strokeWidth=1;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-213" target="Vtk1lmPcbk6OVcRN41MI-215">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-221" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;strokeColor=#000000;strokeWidth=1;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-213" target="Vtk1lmPcbk6OVcRN41MI-218">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-213" value="ws &amp;gt; 0&amp;nbsp;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="1380" y="3061" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-224" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;strokeColor=#000000;strokeWidth=1;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-215" target="Vtk1lmPcbk6OVcRN41MI-222">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-215" value="while循环&lt;br&gt;直到找到ws &amp;lt; 0 的前继节点为止" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1400" y="3180" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-217" value="true" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="1460" y="3150" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-223" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#000000;strokeWidth=1;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-218" target="Vtk1lmPcbk6OVcRN41MI-222">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-218" value="compareAndsetWaitStatus(pred, ws, Node.SIGNAL)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1370" y="2940" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-220" value="false" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="1461" y="3020" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-222" value="return false" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1610" y="3071" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-227" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#000000;strokeWidth=1;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-225" target="Vtk1lmPcbk6OVcRN41MI-226">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-225" value="parkAndCheckInterrupt()" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1070" y="3380" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-229" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;strokeWidth=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="Vtk1lmPcbk6OVcRN41MI-226" target="Vtk1lmPcbk6OVcRN41MI-228">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-226" value="LockSupport.park(this)&lt;br&gt;使线程进入waiting状态" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1130" y="3517" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-228" value="return Thread.interrupt()" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1130" y="3630" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-230" value="" style="endArrow=none;dashed=1;html=1;strokeWidth=3;strokeColor=#007FFF;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-340" y="3770" as="sourcePoint" />
            <mxPoint x="-339.99999999999955" y="2736.67" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-231" value="" style="endArrow=none;dashed=1;html=1;strokeWidth=3;strokeColor=#007FFF;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1970" y="3780" as="sourcePoint" />
            <mxPoint x="1970.0000000000005" y="2746.6699999999996" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-232" value="" style="endArrow=none;dashed=1;html=1;strokeWidth=3;strokeColor=#007FFF;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-338.99999999999955" y="3770" as="sourcePoint" />
            <mxPoint x="1971" y="3780" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-233" value="&lt;font style=&quot;font-size: 28px&quot;&gt;tryAcquire&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#008a00;strokeColor=#005700;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="-310" y="130" width="259" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-234" value="&lt;font style=&quot;font-size: 28px&quot;&gt;addWaiter&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#008a00;strokeColor=#005700;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="-279" y="1490" width="259" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vtk1lmPcbk6OVcRN41MI-237" value="&lt;font style=&quot;font-size: 28px&quot;&gt;acquireQueued&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#008a00;strokeColor=#005700;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="-304" y="2810" width="259" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
